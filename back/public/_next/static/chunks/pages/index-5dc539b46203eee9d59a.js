(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9075:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return p},default:function(){return x}});var t=r(5893),i=r(7294),c=r(9008),o=r(5152),s=r(1664),a=(r(1330),r(3802),r(6156));function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var u=function(e){var n=e.name,r=e.value,i=e.coords,c=e.onClick;return(0,t.jsxs)("li",{onClick:function(){return c(i)},className:"flex p-1 border-b border-indigo-500 cursor-pointer hover:bg-indigo-500 hover:text-indigo-800",children:[(0,t.jsx)("span",{className:"flex-grow",children:n}),(0,t.jsx)("span",{className:"text-indigo-300",children:r})]})},f=function(e){var n=e.cities,r=void 0===n?[{name:"Paris",value:1234},{name:"Paris",value:1234}]:n,i=e.onClick,c=void 0===i?function(){}:i;return(0,t.jsx)("ul",{className:"text-white overflow-scroll",style:{height:"80vh"},children:r.map((function(e,n){return(0,t.jsx)(u,d(d({},e),{},{onClick:c}),n)}))})},h=function(e){var n=e.cities,r=e.onClick;return(0,t.jsxs)("div",{className:"bg-indigo-600 h-screen",children:[(0,t.jsx)("div",{className:"px-12 pb-4 pt-2 border-b border-indigo-900",children:(0,t.jsx)("h2",{className:"text-white text-2xl italic ",children:"Jobsmap"})}),(0,t.jsxs)("div",{className:"pt-4 flex flex-col space-x-px",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(f,{cities:n,onClick:r})}),(0,t.jsx)(s.default,{href:"/about",children:(0,t.jsx)("a",{className:"border text-center border-indigo-100 rounded-md p-2 text-white hover:text-indigo-600 hover:bg-indigo-100",children:"A propos"})})]})]})},p=!0,x=function(e){var n,s=e.places,a=(0,i.useState)((null===(n=s[0])||void 0===n?void 0:n.coords)||[45.78365,3.10013]),l=a[0],d=a[1],u=(0,i.useRef)(),f=u.current;(0,i.useEffect)((function(){u.current=l}),[l]);var p=(0,o.default)((function(){return Promise.all([r.e(269),r.e(677)]).then(r.bind(r,4677))}),{ssr:!1,loadableGenerated:{webpack:function(){return[4677]},modules:["index.js -> ../components/map"]}}),x=s.map((function(e){return{title:"".concat(e.name,". Total : ").concat(e.total),coords:e.coords}})),v=s.map((function(e){return{name:e.name,value:e.total,coords:e.coords}}));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.default,{children:[(0,t.jsx)("title",{children:"Page d'accueil : Cartographie des offres d'emplois tech en France"}),(0,t.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-none",children:(0,t.jsx)(h,{cities:v,onClick:function(e){d(e)}})}),(0,t.jsx)("div",{className:"flex-grow h-screen",children:(0,t.jsx)(p,{center:l,prevCenter:f,markers:x})})]})]})}},8581:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9075)}])}},function(e){e.O(0,[774,482,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);