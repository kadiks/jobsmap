(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5139:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return F},default:function(){return z}});var r=t(5893),o=t(7294),a=t(9008),i=t(5152),s=t(18),c=(t(1664),t(1330)),l=t(3802),u=function(){return(0,r.jsx)("div",{className:"flex-none px-12 pb-4 pt-2 border-b border-gray-600",children:(0,r.jsxs)("h2",{className:"text-white text-2xl font-sans font-bold uppercase flex items-center",children:[(0,r.jsx)("img",{src:"logo.svg",width:"30"}),"\xa0"," Carte \xf4 Job"]})})},d=function(e){var n=e.children,t=e.className,o=void 0===t?"":t,a=e.onClick,i=void 0===a?function(){}:a,c=["focus:outline-none"].concat((0,s.Z)(o.split(" ")));return(0,r.jsx)("button",{className:c.join(" "),onClick:i,children:n})},y=function(e){var n=e.enabled,t=e.onChange;return(0,r.jsx)("input",{type:"checkbox",onChange:t,checked:n,className:"form-tick cursor-pointer appearance-none h-6 w-6 border border-gray-300 rounded-md checked:border-transparent focus:outline-none checked:bg-yellow-400 checked:border-transparent"})},f=function(e){var n=e.children;return(0,r.jsx)("span",{className:"text-yellow-100 inline-block mr-1 mb-1 text-xs border border-yellow-100 bg-yellow-100 bg-opacity-50 py-1 px-2 rounded-lg",children:n})},m=t(6156);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,m.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v=function(e){var n=e.name,t=e.value,o=e.selectedKeywords,a=e.onClick,i=e.isLast;return(0,r.jsxs)("li",{className:"flex p-1 py-2  border-yellow-100 cursor-pointer hover:bg-yellow-100 hover:text-gray-800 ".concat(i?"":"border-b"),children:[(0,r.jsx)("span",{className:"flex-grow font-sans",children:n}),(0,r.jsx)("input",{type:"checkbox",onChange:function(){return a(t)},checked:o.includes(t),className:"form-tick appearance-none cursor-pointer h-6 w-6 border border-gray-300 rounded-md checked:border-transparent focus:outline-none checked:bg-yellow-400 checked:border-transparent"})]})},x=function(e){var n=e.keywords,t=void 0===n?[{name:"PHP",value:"php"},{name:"C#",value:"c#"}]:n,o=e.selectedKeywords,a=e.scrollHeight,i=e.onClick,s=void 0===i?function(){}:i;return(0,r.jsx)("ul",{className:"text-white overflow-scroll",style:{overflow:"scroll",height:a},children:t.map((function(e,n,t){return(0,r.jsx)(v,p(p({isLast:n===t.length-1},e),{},{selectedKeywords:o,onClick:s}),n)}))})},w=function(e){var n=e.cities,t=(e.filterType,e.keywords),a=e.selectedKeywords,i=(e.onChangeFilterType,e.isDptView),c=e.onClickGroupDpt,l=e.onClickKeyword,u=(0,o.useState)(a),m=u[0],h=u[1],p=(0,o.useState)(i),v=p[0],w=p[1];return(0,r.jsxs)("div",{className:"flex-none",children:[(0,r.jsxs)("div",{className:"flex justify-center flex-wrap items-center  border-0 border-yellow-100 mt-2 mb-2",children:[(0,r.jsx)(y,{enabled:v,onChange:function(){return w(!v)}}),(0,r.jsx)("span",{className:"pl-2 py-2 text-white font-sans",children:"Voir que les d\xe9partements ?"})]}),(0,r.jsxs)("div",{className:"mt-2 flex flex-col flex-wrap justify-center px-4 text-white font-sans",children:[m.length>0&&(0,r.jsxs)("p",{className:"font-sans text-left",style:{width:"17vw"},children:["Lieux contenants des offres avec :"," ",m.map((function(e){return(0,r.jsx)(f,{children:e})}))]}),(0,r.jsxs)("p",{className:"text-right font-sans font-bold my-2",children:["Total: ",n.length]})]}),(0,r.jsx)(x,{keywords:t,selectedKeywords:m,onClick:function(e){var n=(0,s.Z)(m);if(null!==e){var t=m.indexOf(e);t>=0?n.splice(t,1):n.push(e)}h(n)}}),(0,r.jsx)("div",{className:"py-2 mt-4 flex justify-center",children:(0,r.jsx)(d,{className:"border text-center border-yellow-100 rounded-md p-2 text-yellow-100 hover:bg-yellow-100 hover:text-yellow-900",onClick:function(){c(v),l(m)},children:"Valider la s\xe9lection"})})]})};function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,m.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=function(e){var n=e.name,t=e.value,o=e.coords,a=e.onClick;return(0,r.jsxs)("li",{onClick:function(){return a(o)},className:"flex p-1 border-b border-yellow-100 cursor-pointer hover:bg-yellow-100 hover:text-gray-800",children:[(0,r.jsx)("span",{className:"flex-grow font-sans",children:n}),(0,r.jsx)("span",{className:"text-yellow-300 font-sans",children:t})]})},k=function(e){var n=e.cities,t=void 0===n?[{name:"Paris",value:1234},{name:"Paris",value:1234}]:n,o=e.scrollHeight,a=e.onClick,i=void 0===a?function(){}:a;return(0,r.jsx)("ul",{className:"text-white overflow-scroll",id:"placelist",style:{overflow:"scroll",height:o},children:t.map((function(e,n){return(0,r.jsx)(j,g(g({},e),{},{onClick:i}),n)}))})},C=t(7039),N=t.n(C),O=function(e){var n=e.cities,t=(e.filterType,e.keywords,e.selectedKeywords,e.onClickCity),o=(e.onClickKeyword,e.scrollbarHeight);return(0,r.jsx)("div",{className:N().scrollbar,children:(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(k,{scrollHeight:o,cities:n,onClick:t})})})},S=function(){return(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("p",{className:"mt-4 text-xs text-center text-yellow-100 font-sans",style:{width:"17vw"},children:["Made with \ud83d\udc9d by"," ",(0,r.jsx)("a",{href:"https://www.linkedin.com/in/adeline-sire-1a005112b/",target:"_blank",className:"hover:text-yellow-500",children:"Adeline Sire"}),","," ",(0,r.jsx)("a",{href:"https://www.linkedin.com/in/yousra-hammami/",target:"_blank",className:"hover:text-yellow-500",children:"Yousra Hammami"}),","," ",(0,r.jsx)("a",{href:"https://www.linkedin.com/in/julie-desvaux/",target:"_blank",className:"hover:text-yellow-500",children:"Julie Desvaux"}),","," ",(0,r.jsx)("a",{href:"#",className:"hover:text-yellow-500",children:"Gregory Houldsworth"}),","," ",(0,r.jsx)("a",{href:"https://github.com/GuillaumeDORE",target:"_blank",className:"hover:text-yellow-500",children:"Guillaume Dore"})," ","and"," ",(0,r.jsx)("a",{href:"https://codiscovery.co/",target:"_blank",className:"hover:text-yellow-500",children:"J\xe9na\xefc Cambr\xe9"})]})})},A=function(e){var n=e.cities,t=e.filterType,a=e.keywords,i=e.selectedKeywords,d=e.isDptView,y=e.onChangeFilterType,f=e.onClickCity,m=e.onClickKeyword,h=e.onClickGroupDpt,p=(0,o.useState)(["location"]),v=p[0],x=p[1],b=function(e){var n=v.indexOf(e);if(n>=0){var t=(0,s.Z)(v);t.splice(n,1),x(t)}else x([].concat((0,s.Z)(v),[e]))};return(0,r.jsxs)("div",{className:"bg-gray-800 h-screen flex flex-col",style:{boxShadow:"-3px 0px 6px rgb(38 53 74) inset"},children:[(0,r.jsx)(u,{}),(0,r.jsx)(c.pJ,{as:"div",className:"px-2 my-2",onClick:function(){return b("search")},children:function(e){var o=e.open;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.pJ.Button,{className:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-yellow-900 bg-yellow-100 rounded-lg hover:bg-yellow-200 focus:outline-none focus-visible:ring focus-visible:ring-yellow-500 focus-visible:ring-opacity-75",children:[(0,r.jsx)(l.k1n,{className:"w-5 h-5 text-yellow-500"}),(0,r.jsx)("span",{children:"RECHERCHE"}),(0,r.jsx)(l.g8U,{className:"".concat(o?"transform rotate-180":""," w-5 h-5 text-yellow-500")})]}),(0,r.jsx)(c.uT,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,r.jsx)(c.pJ.Panel,{children:(0,r.jsx)("div",{className:"py-2",children:(0,r.jsx)(w,{cities:n,keywords:a,filterType:t,selectedKeywords:i,onChangeFilterType:y,isDptView:d,onClickGroupDpt:h,onClickKeyword:m})})})})]})}}),(0,r.jsx)(c.pJ,{as:"div",className:"px-2",defaultOpen:!0,onClick:function(){return b("location")},children:function(e){var o=e.open;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.pJ.Button,{className:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-yellow-900 bg-yellow-100 rounded-lg hover:bg-yellow-200 focus:outline-none focus-visible:ring focus-visible:ring-yellow-500 focus-visible:ring-opacity-75",children:[(0,r.jsx)(l.IS8,{className:"w-5 h-5 text-yellow-500"}),(0,r.jsx)("span",{children:"LIEUX"}),(0,r.jsx)(l.g8U,{className:"".concat(o?"transform rotate-180":""," w-5 h-5 text-yellow-500")})]}),(0,r.jsx)(c.uT,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,r.jsx)(c.pJ.Panel,{children:(0,r.jsx)("div",{className:"py-2",children:(0,r.jsx)(O,{cities:n,filterType:t,keywords:a,selectedKeywords:i,onClickCity:f,onClickKeyword:m,scrollbarHeight:2===v.length?"13vh":"65vh"})})})})]})}}),(0,r.jsx)(S,{})]})},P=function(e){var n=(0,o.useState)(""),t=n[0],a=n[1],i=(0,o.useState)(!1),s=i[0],c=i[1],l=(0,o.useState)([]),u=l[0],d=l[1];function y(n){var t=n.target.dataset.coords.split(",");e.flyto(t),c(!1),a(""),d([])}return(0,o.useEffect)((function(){t.length>2?d(e.places.filter((function(e){var n=e.name.toLowerCase(),r=t.toLowerCase();return-1!==n.indexOf(r)}))):d([])}),[t]),(0,r.jsx)("div",{className:"flex bg-gray-800 justify-end px-4 py-2",style:{boxShadow:"0px -3px 6px rgb(38 53 74) inset"},children:(0,r.jsx)("div",{className:"flex items-center justify-center w-1/3",children:(0,r.jsxs)("form",{className:"w-full relative",children:[(0,r.jsxs)("div",{className:"relative text-gray-600 focus-within:text-gray-400",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2",children:(0,r.jsx)("button",{type:"submit",className:"p-1 focus:outline-none focus:shadow-outline",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",className:"w-6 h-6",children:(0,r.jsx)("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),(0,r.jsx)("input",{onChange:function(e){e.preventDefault();var n=e.target.value;a(n)},onFocus:function(){return c(!0)},value:t,type:"search",name:"q",className:"font-sans py-2 shadow text-sm text-white w-full border bg-gray-800 border-gray-500 rounded-md pl-10 focus:outline-none focus:bg-white focus:text-gray-900",placeholder:"Rechercher...",autoComplete:"off"})]}),s&&0!==u.length&&(0,r.jsx)("ul",{className:"py-2 font-sans bg-white fixed cursor-pointer w-full rounded-b-lg bg-gray-800 text-white border border-gray-500 border-t-0",style:{zIndex:"401"},children:u.map((function(e){return(0,r.jsx)("li",{onClick:y,"data-coords":e.coords,className:"p-2  hover:bg-yellow-100 hover:bg-opacity-50 hover:text-gray-800",children:e.name},e.id)}))})]})})})};function T(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return L(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw a}}}}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.places,t=void 0===n?[]:n,r=e.keywords,o=void 0===r?[]:r,a=t;if(o.length>0){var i,s=T(o);try{var c=function(){var e=i.value;a=a.filter((function(n){return n.keywords.find((function(n){return n.keyword===e}))})),console.log("curKeyword",e),console.log("filteredPlaces",a.length)};for(s.s();!(i=s.n()).done;)c()}catch(l){s.e(l)}finally{s.f()}}return a},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.places,t=void 0===n?[]:n,r=e.search,o=void 0===r?null:r;if(null===o)return t;var a=t.filter((function(e){return null!==e.name.match(new RegExp(o,"gi"))}));return a},M={"01":{name:"Ain",city:"Bourg-en-bresse",coords:[46.2051675,5.2255007]},"02":{name:"Aisne",city:"Laon",coords:[49.566667,3.616667]},"03":{name:"Allier",city:"Moulins",coords:[46.568059,3.334417]},"04":{name:"Alpes-de-Haute-Provence",city:"Digne-les-bains",coords:[44.092193,6.235976]},"05":{name:"Hautes-alpes",city:"Gap",coords:[44.566667,6.083333]},"06":{name:"Alpes maritimes",city:"Nice",coords:[43.7,7.25]},"07":{name:"Ard\xe8che",city:"Privas",coords:[44.733333,4.6]},"08":{name:"Ardennes",city:"Charleville-m\xe9zi\xe8res",coords:[49.762085,4.726096]},"09":{name:"Ari\xe8ge",city:"Foix",coords:[42.966667,1.6]},10:{name:"Aube",city:"Troyes",coords:[48.2973451,4.0744009]},11:{name:"Aude",city:"Carcassonne",coords:[43.212161,2.353663]},12:{name:"Aveyron",city:"Rodez",coords:[44.333333,2.566667]},13:{name:"Bouches-du-Rh\xf4ne",city:"Marseille",coords:[43.3,5.4]},14:{name:"Calvados",city:"Caen",coords:[49.183333,-.35]},15:{name:"Cantal",city:"Aurillac",coords:[,]},16:{name:"Charente",city:"Angoul\xeame",coords:[,]},17:{name:"Charente-maritime",city:"La rochelle",coords:[,]},18:{name:"Cher",city:"Bourges",coords:[,]},19:{name:"Corr\xe8ze",city:"Tulle",coords:[,]},20:{name:"Corse",city:"Ajaccio",coords:[,]},"2A":{name:"Corse-du-sud",city:"Ajaccio",coords:[,]},"2B":{name:"Haute-Corse",city:"Bastia",coords:[,]},21:{name:"C\xf4te-d'Or",city:"Dijon",coords:[,]},22:{name:"C\xf4tes-d'Armor",city:"Saint-brieuc",coords:[,]},23:{name:"Creuse",city:"Gu\xe9ret",coords:[,]},24:{name:"Dordogne",city:"P\xe9rigueux",coords:[,]},25:{name:"Doubs",city:"Besan\xe7on",coords:[,]},26:{name:"Dr\xf4me",city:"Valence",coords:[,]},27:{name:"Eure",city:"\xc9vreux"},28:{name:"Eure-et-loir",city:"Chartres"},29:{name:"Finist\xe8re",city:"Quimper"},30:{name:"Gard",city:"N\xeemes"},31:{name:"Garonne (Haute)",city:"Toulouse"},32:{name:"Gers",city:"Auch"},33:{name:"Gironde",city:"Bordeaux"},34:{name:"H\xe9rault",city:"Montpellier"},35:{name:"Ille et vilaine",city:"Rennes"},36:{name:"Indre",city:"Ch\xe2teauroux"},37:{name:"Indre-et-loire",city:"Tours"},38:{name:"Is\xe8re",city:"Grenoble"},39:{name:"Jura",city:"Lons-le-saunier"},40:{name:"Landes",city:"Mont-de-marsan"},41:{name:"Loir-et-cher",city:"Blois"},42:{name:"Loire",city:"Saint-\xe9tienne"},43:{name:"Haute-loire",city:"Le puy-en-velay"},44:{name:"Loire atlantique",city:"Nantes"},45:{name:"Loiret",city:"Orl\xe9ans"},46:{name:"Lot",city:"Cahors"},47:{name:"Lot-et-garonne",city:"Agen"},48:{name:"Loz\xe8re",city:"Mende"},49:{name:"Maine et loire",city:"Angers"},50:{name:"Manche",city:"Saint-l\xf4"},51:{name:"Marne",city:"Ch\xe2lons-en-champagne"},52:{name:"Haute-marne",city:"Chaumont"},53:{name:"Mayenne",city:"Laval"},54:{name:"Meurthe-et-moselle",city:"Nancy"},55:{name:"Meuse",city:"Bar-le-duc"},56:{name:"Morbihan",city:"Vannes"},57:{name:"Moselle",city:"Metz"},58:{name:"Ni\xe8vre",city:"Nevers"},59:{name:"Nord",city:"Lille"},60:{name:"Oise",city:"Beauvais"},61:{name:"Orne",city:"Alen\xe7on"},62:{name:"Pas-de-calais",city:"Arras"},63:{name:"Puy-de-d\xf4me",city:"Clermont-ferrand"},64:{name:"Pyr\xe9n\xe9es-atlantiques",city:"Pau"},65:{name:"Hautes-Pyr\xe9n\xe9es",city:"Tarbes"},66:{name:"Pyr\xe9n\xe9es-orientales",city:"Perpignan"},67:{name:"Bas-rhin",city:"Strasbourg"},68:{name:"Haut-rhin",city:"Colmar"},69:{name:"Rh\xf4ne",city:"Lyon"},70:{name:"Haute-sa\xf4ne",city:"Vesoul"},71:{name:"Sa\xf4ne-et-loire",city:"M\xe2con"},72:{name:"Sarthe",city:"Le mans"},73:{name:"Savoie",city:"Chamb\xe9ry"},74:{name:"Haute-savoie",city:"Annecy"},75:{name:"Paris",city:"Paris"},76:{name:"Seine-maritime",city:"Rouen"},77:{name:"Seine-et-marne",city:"Melun"},78:{name:"Yvelines",city:"Versailles"},79:{name:"Deux-s\xe8vres",city:"Niort"},80:{name:"Somme",city:"Amiens"},81:{name:"Tarn",city:"Albi"},82:{name:"Tarn-et-Garonne",city:"Montauban"},83:{name:"Var",city:"Toulon"},84:{name:"Vaucluse",city:"Avignon"},85:{name:"Vend\xe9e",city:"La roche-sur-yon"},86:{name:"Vienne",city:"Poitiers"},87:{name:"Haute-vienne",city:"Limoges"},88:{name:"Vosges",city:"\xc9pinal"},89:{name:"Yonne",city:"Auxerre"},90:{name:"Territoire de belfort",city:"Belfort"},91:{name:"Essonne",city:"\xc9vry"},92:{name:"Hauts de seine",city:"Nanterre"},93:{name:"Seine-Saint-Denis",city:"Bobigny"},94:{name:"Val-de-marne",city:"Cr\xe9teil"},95:{name:"Val-d'Oise",city:"Cergy Pontoise"},971:{name:"Guadeloupe",city:"Basse-terre"},972:{name:"Martinique",city:"Fort-de-france"},973:{name:"Guyane",city:"Cayenne"},974:{name:"La r\xe9union",city:"Saint-denis"},976:{name:"Mayotte",city:"Mamoudzou"}},H=function(e){var n=Object.entries(e),t={};return n.forEach((function(e){var n=e[1].name.toLowerCase();t[n]=e[0]})),t}(M);function _(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return G(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw a}}}}function G(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var K=function(e){var n,t=e.keywords,r=_(e.newKeywords);try{var o=function(){var e=n.value,r=t.findIndex((function(n){return n.keyword===e.keyword}));-1===r?t.push(e):t[r].count+=e.count};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return t},B=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.places,r=void 0===t?[]:t,o={},a=_(r);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(i.id||H[i.name.toLowerCase()]&&(i.id=H[i.name.toLowerCase()]),i.id){var s=i.id.substr(0,2);o.hasOwnProperty(s)||(o[s]=[]),o[s].push(i)}}}catch(x){a.e(x)}finally{a.f()}for(var c=[],l=Object.keys(o),u=0,d=l;u<d.length;u++){var y,f=d[u],m=o[f],h={id:f,name:M[f].name,total:0,type:"department",coords:m[0].coords,keywords:[]},p=_(m);try{for(p.s();!(y=p.n()).done;){var v=y.value;h.total+=v.total,h.keywords=K({keywords:h.keywords,newKeywords:v.keywords})}}catch(x){p.e(x)}finally{p.f()}c.push(h)}return c.sort((function(e,n){return e.name.toLowerCase().charCodeAt(0)-n.name.toLowerCase().charCodeAt(0)})),c};function I(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return V(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw a}}}}function V(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var F=!0,z=function(e){var n,s,c=(null===(n=e.places[0])||void 0===n?void 0:n.coords)||[45.78365,3.10013],l=(0,o.useState)(c),u=l[0],d=l[1],y=(0,o.useState)(e.places),f=y[0],m=y[1],h=(0,o.useState)([]),p=h[0],v=h[1],x=(0,o.useState)("technologies"),w=x[0],b=x[1],g=(0,o.useState)("departments"),j=(g[0],g[1],(0,o.useState)(null)),k=j[0],C=(j[1],(0,o.useState)(!0)),N=C[0],O=C[1],S=(0,o.useRef)();S.current;(0,o.useEffect)((function(){H()}),[]),(0,o.useEffect)((function(){H()}),[N]),(0,o.useEffect)((function(){S.current=u}),[u]);var T,L=(0,i.default)((function(){return Promise.all([t.e(269),t.e(512)]).then(t.bind(t,5512))}),{ssr:!1,loadableGenerated:{webpack:function(){return[5512]},modules:["index.js -> ../components/map"]}}),M=function(e){s.flyTo(e),setTimeout((function(){}),2e3)},H=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=D({places:e.places,keywords:n});t=E({places:t,search:k}),N&&(t=B({places:t})),m(t),v(n),b("cities"),s?s.flyTo(t[0].coords):d(t[0].coords)},_=[],G=[],K=[],V=I(f);try{for(V.s();!(T=V.n()).done;){var F=T.value,z=F.keywords.map((function(e){return"".concat(e.keyword," : ").concat(e.count)})),R={title:"".concat(F.name," <br/> ").concat(z.join("<br />")),coords:F.coords},J={name:F.name,value:F.total,coords:F.coords},U=F.keywords;_.push(R),G.push(J),K.push(U)}}catch(ee){V.e(ee)}finally{V.f()}for(var Z=[],q=[],X=0,Y=K;X<Y.length;X++){var $,Q=I(Y[X]);try{for(Q.s();!($=Q.n()).done;){var W=$.value;Z.includes(W.keyword)||(Z.push(W.keyword),q.push({name:W.keyword,value:W.keyword}))}}catch(ee){Q.e(ee)}finally{Q.f()}}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"Cartographie des offres d'emplois tech en France"}),(0,r.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),(0,r.jsx)("link",{rel:"manifest",href:"/site.webmanifest"}),(0,r.jsx)("link",{rel:"mask-icon",href:"/safari-pinned-tab.svg",color:"#5bbad5"}),(0,r.jsx)("meta",{name:"msapplication-TileColor",content:"#da532c"}),(0,r.jsx)("meta",{name:"theme-color",content:"#ffffff"})]}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-none",children:(0,r.jsx)(A,{filterType:w,onChangeFilterType:function(e){b(e)},cities:G,keywords:q,selectedKeywords:p,isDptView:N,onClickCity:M,onClickKeyword:function(e){console.log("pages/index #onClickkeyword keyword",e),H(e)},onClickGroupDpt:function(e){O(e)}})}),(0,r.jsxs)("div",{className:"flex flex-col flex-grow h-screen",children:[(0,r.jsx)(P,{flyto:M,places:N?e.places:B({places:e.places})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(L,{defaultCenter:c,center:u,markers:_,getMap:function(e){var n=e.map;s=n}})})]})]})]})}},8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5139)}])},7039:function(e){e.exports={scrollbar:"Scrollbar_scrollbar__1sQ1e"}}},function(e){e.O(0,[774,444,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);